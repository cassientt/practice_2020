单词 | 释义
------|-----
Asynchronous [eɪˈsɪŋkrənəs] | adj. [电] 异步的；不同时的；不同期的
Denial | n. 否认；拒绝；节制；背弃
Distributed | adj. 分布式的，分散式的
Cascading  [kæ'skeɪdɪŋ]| v. （水）倾泻；大量落下；连续传递（信息、技艺等）；（使）（装置、物品）串联（cascade 的现在分词）
IFrame | n. 内嵌框架；内联框架
## 1 web前端技术
### 1.1 AJAX技术的妙用
* 这种只让部分页面刷新的技术叫作AJAX（汉语读音为“阿贾克斯”或“额寨克思”），它是“Asynchronous JavaScript And XML”的首字母缩写，翻译为“异步JavaScript和XML”
* 它主要解决的就是不用刷新网页，就能和后台交互获取数据，并应用于当前网页的问题
### AJAX具备的这两项能力怎么实现呢？
* （1）发起网络请求。发起网络请求的能力由浏览器的内置能力提供，所有的浏览器都提供了XmlHttpRequest对象，它可以由网页调用，用来连接一个特定的地址。
* （2）无须刷新，可动态操作网页。我们先引入术语 DOM（Document Object Model，文档对象模型）。读者可以将一个网页想象成一个人，一个人的运动系统由骨骼和肌肉组成，DOM相当于骨骼，定义了一个网页的结构，以下代码对应了一个最简单的网页的骨骼和框架
* 总结：AJAX是一项用于异步拉取数据并展示在当前页面的技术，这对需要延迟加载数据和触发式加载数据的页面有很大益处。绝大多数网页为了加速响应，都会用到这项技术。例如，访问一个内容型网站时，这个网站的后台会把当前页面的基本框架“吐回”浏览器，这样一个网页的基本样子就有了；又如，在一些视频网站上，所有的电影名、演员名都是立刻显示的，电影的海报是框架加载完成之后，再发起AJAX 请求拉取的。采用这样的异步加载模式可以在最大程度上缓解用户等待时的焦虑感。
### 1.2 DOM是什么（Document Object Model）
* DOM（文档对象模型）是Web前端里最基础、最常用的一个模型。例如，一个网页其实就是一个 HTML 文件，经过浏览器的解析，最终呈现在用户面前。HTML语言是由很多标签组成的。
* （head和body等是标签。这些标签不是随意摆放的，它们有自己的规则，）
* 浏览器在解析 HTML 时，会在它的内部构建这样一棵 DOM 树，然后按照这棵树上的层次顺序解析每个标签。解析完成后，用户就看到了网页的内容。
### 1.3 静态网页与动态网页
静态网页、动态网页都是网页，都是在浏览器上用HTML展示出来的页面。HTML是网页的基础结构，网页如何排版、每个元素在什么位置，都是由它来描述的。
#### 总结：
* （1）静态网页和动态网页都是网页。
* （2）静态网页不需要后台程序干预处理，直接由服务器返回。实现为静态网页后，一般不需要维护，因为数据不需要更新 
* （3）动态网页一般需要由程序来处理（ASP、JSP、PHP、Python、Ruby等），并由数据库提供数据支撑。
* （4）不要以URL的形式来判断一个网页是静态的还是动态的，而应该看页面的属性（产品经理最好具备一些调试技巧和经验）。
* （5）动态网页更灵活。
###  1.4 分析URL的结构
* URL是由以下几部分组成的，以连接为例进行详解：http://news.qq.com/a/20160209/012154.htm?a=1&b=2&c=3

组成部分 | 释义
------|-----
protocol |  http://:协议。是一套规则，定义了数据的封装、打包、拆包和解释的规则。只要存放这些资源的服务器支持，也可以`自定义协议`。
hostname | news.qq.com：主机名【二级域名】，qq.com是一级域名。
port | 端口号。一般默认HTTP的端口号为80,HTTPS的为443，如果URL省略即为默认。当然也可以自己在对应端口布置服务公用户使用。
path | /a/20160209/012154.htm/ 路径，即文件存储在服务器上的路径和文件名。
parameters | ?a=1&b=2&c=3 参数也叫查询。即在URL中带上一些本地的信息传给服务器，最终由服务器判断处理。其中参数部分加上一些随便填写的值并不会出错，比如&d=4，只不过服务器不解析这部分罢了。
query | 

###  1.5 网页基础知识：表单
* 表单是用户和服务器数据交互的用户界面，一切向服务器提交的数据都是由其中的几个简单的标签组成的。
* 表单中还可以承载很多类型的元素，例如RadioBox和CheckBox，用来丰富用户输入类型和减少交互成本
* 表单在很早的 HTML 版本中就已经存在，它是用户输入和网页之间数据交互的一个界面，在HTML中用 form 标签标记。
* HTML规范已经升级到5.0版本，H5是它的简称。以前的HTML其实应该称为HTML4或者HTML 401,“5”并不代表一种新技术，仅仅是一个版本号。
## 1.6 H5应用程序缓存简介
* 用户用浏览器打开一个网页的 URL，相当于发生了若干次下载，如果服务器顶不住，导致一些访问失败，会带来很糟糕的用户体验。遇到这种情况，开发者或许会考虑对服务器“扩容”。扩容说起来简单，操作起来需要很多资金开销，但通过使用Application Cache技术可以达到扩容的目的，代价只是多加几句代码。Application Cache是HTML 5中定义的一种离线存储技术标准。
* 当浏览器打开使用了Application Cache技术的网页时，会尝试先从Cache中加载数据，并同时向服务器询问本地资源是否已经过期，如果本地资源过期，浏览器会自动从服务器上更新资源到Cache中。
* 需要说明的是，如果Cache中的数据可用，浏览器就会对其进行加载，即使它们已经过期。页面可以通过注册监听器的方式获得Cache更新成功的事件，主动刷新一下页面，将最新的内容及时展示给用户。
* Application Cache技术通过缓存资源到本地，避免了每次打开网页都会从服务器拉取大量数据的过程，取而代之的只是一个轻量级的更新检查请求，这样，开发者的服务器带宽就被大大地释放出来。另外，由于网页的资源都是通过本地资源读取的，用户再次打开同一页面时，内容展示时间会大大缩短，甚至达到Native应用的水平，从而进一步优化用户体验。如果页面的所有资源都被缓存到了本地，那么页面就可以在离线的情况下被完整地加载了。
## 1.7 Chrome里的冷知识
* DevTools:开发者工具（F12）
* 恐龙小游戏：断网加空格
* 指定搜索引擎:设置-搜索引擎-把想使用的搜索引擎域名加入到默认-回到谷歌浏览器输入框-输入域名按tab键即可。
* 计数器：在地址栏输入“1+1=×”，地址栏下方就会显示计算结果。
* 执行 JavaScript :   在浏览器的地址栏输入：`Javascrip:alert(document.cookie)[弹框显示]`Javascripy脚本就会弹出一个对话框，显示本网站颁发的所有Cookie的内容。因为弹框显示的不便，可以在浏览器的开发者工具下的 `console` 输入：`console.log(document.cookie);`获取可复制文本。
* 将网页存为PDF文件(也可以借助Evernote):打印网页”对话框，然后在目标打印机的选项中选择“另存为PDF”选项。
## 1.8 JS DDoS攻击的原理与防御
* 分布式拒绝服务攻击（Distributed Denial of Service,DDoS）是一种对网站发起大量连接，导致正常用户无法访问网站的攻击手段。利用流量劫持变相进行 DDoS，就是JS DDoS
## 1.9 UA的故事
“UA”是“UserAgent”（用户代理）的简写，一般用来区分不同的浏览器。UA形如：
Mozilla/3.0（Win95; U）(这是 Netscape（网景）浏览器的标识)

组成部分 | 释义
------|-----
Mozilla(也指火狐浏览器)/3.0 | Netscape Navigator3（浏览器UA都带有Mozilla证明支持网页框架）
Win95 | 宿主平台
U | U为加密类型［U（128位加密）、I（40位加密）、N（没加密）］
———————————————————————————————————

单词 | 释义
------|-----
Gecko | 属于渲染引擎，用于对网页信息进行排版显示
KHTML,like Gecko | KHTML是Linux上的渲染引擎(为了表明身份)
## 1.10 URL编码
* 虽然在URL中使用一些中文字符从技术上讲不存在识别和传输的问题，但是网络标准协议中却规定了URL中只能包含英文字符。
* 再看到这种包含很多“%”的字符串时，别认为是加密数据，随便找个URL解码工具就能还原它
## 1.11 简单理解HTML、CSS和JavaScript
#### HTML、CSS、JavaScript共同构建了读者看到的所有网页展示和交互。
* HTML（HyperText Markup Language）是超文本标记语言:用来布局网页中的每一个元素的
* CSS（Cascading Style Sheets）是级联样式表:外观，CSS就是起装修作用的，要和HTML一起配合使用。
* JavaScript 是一种脚本语言，主要用于前端页面的DOM处理：移动、添加、减少物件就只能靠JavaScript实现
## 1.12 跨域与同源
#### 跨域
* iframe的意义非常简单，就是将一个URL地址嵌入当前页面并展示出来。 iframe 大致的用途：嵌入另一个页面，两个页面的功能可以解耦合，不依赖对方而存在。
```html
<htm1>
<body>
くiframe id="ifr" src="www.qq.com" >
</body>
</htm1>
```
把src后的网址改为自己公司广告网址。这个功能会被浏览器拒绝，提示“Permission Denied”，也就是当前“跨域”操作了，开发者无法篡改腾讯网的页面。跨域被拒绝，其实是浏览器底层被称为“同源策略”的安全机制起了作用。
#### 同源
* 什么是同源呢？只要两个页面的协议、主机名、端口一样，就是同源的，否则就是非同源的
* 同源就是同域，“跨域”也可以说成“跨源”。不同源，就不能修改另一个页面，更不能获取与另一个页面相关的内容。
* 只有同源的页面才可以相互访问。浏览器提供了原生的同源机制来保证不同域下的网站互相隔离，正是这种机制的存在，保证了Web生态下各个网站不乱套。
* 这也引出了一个问题：浏览器天生是拒绝非同源的网页沟通的，但是沟通需求无处不在。
#### 合理的跨域沟通的方法有以下几种：
* （1）JSONP
* （2）iframe document.domain
* （3）iframe location.hash
* （4）HTML 5 PostMessage
* 第4种是较新的HTML 5规范，规定了跨域问题的解决办法，并且是异步的，大部分浏览器已经支持。前面几种有点走偏门的感觉，而且有的方法有些局限性，作者重点推荐第4种，读者有兴趣可以深入了解。
## 1.13 Cookie和广告联盟
* 浏览器不断地向服务器请求数据，服务器不断地回答数据。这个过程有个缺点：每次请求都是独立的，服务器并不会记下客户端的信息。为了让服务器识别请求者，请求者需要在发送请求时带上自己的身份信息，这个身份信息的学名叫作Cookie。
* 现在我们来解释开头广告的事情。用户搜索关键词被百度保存在了浏览器的Cookie里，但是这个广告是出现在一个博客网站上的，按上文的理论，这个博客网站只能访问它自己存储在浏览器的Cookie，为什么能访问百度的Cookie呢？作者看了这个页面的源码，发现这个广告是博客网站的程序员从百度那里复制了一段代码放到这个页面上而展示出来的，用户在请求广告图片时，还是去百度请求，自然百度也就能拿到带着搜索关键词的Cookie。拿到Cookie的百度就可以根据关键词匹配它们的广告，然后推荐给用户，这种广告因为推送的都是用户感兴趣的内容，“杀伤力”特别大，被称为“精准广告”。
## 1.14 HTTP Header是什么
* HTTP 协议的 Header 是一块数据区域，分为请求头和响应头两种类型，客户端向服务区发送请求时带的是请求头，而服务器响应客户端数据时带的是响应头。请求头里主要是客户端的一些基础信息，UA（user-agent）就是其中的一部分，而响应头里是响应数据的一些信息，以及服务器要求客户端如何处理这些响应数据的指令
#### 请求头里面的关键信息如下：
字段 | 释义
------|-----
accept | 当前浏览器可以接受的文件类型
accept-encoding | 当前浏览器可以接受的数据编码
accept-language | 当前使用的浏览语言
Cookie | 很多和用户相关的信息都存在 Cookie 里，用户在向服务器发送请求数据时会带上
user-agent | 表示浏览器的版本信息
#### 请求头里面的关键信息如下：
字段 | 释义
------|-----
content-encoding | 返回内容的压缩编码类型
content-length | 表示这次回包的数据大小，如果数据大小不匹配，要当作异常处理
content-type | 表示数据的格式，它是一个 HTML页面，同时页面的编码格式是 UTF-8
set-cookie | 服务器通知浏览器设置一个Cookie
## 1.15 简单理解HTTP的GET和POST
* 通常认为GET 就是拉取服务器的数据，POST 就是向服务器提交数据，但实际上两者并没有这种明确的界限
## 1.16 WebSocket是什么
* 使用WebSocket可以很好地解决这个问题。WebSocket是HTML 5的一个主要特性，它是建立在TCP上的一种全双工协议，也就是说客户端可以向服务器发信息，服务器也可以向客户端推送消息。WebSocket 在首次建立连接时，使用普通 HTTP和服务器通信，同时告诉服务器后面的交互用WebSocket的方式。在WebSocket连接建立后，往来的消息都可以通过这条管道发送，同时客户端与服务器也会不断地用ping-pong的方式保持心跳，防止连接异常断开。
* 将更新逻辑从HTTP迁移到WebSocket是很简单的，只需要实现WebSocket的几个接口，就能在支持的浏览器上使用WebSocket的双工特性。如果读者想做一个实时性很强的网页，或者想向网页及时推送一些信息，尽量选择WebSocket。
## 1.17 “直出”是什么
* 浏览器直接输出渲染好数据的HTML页面，简称“直出”。直出没什么神秘的，只不过需要Node.js的支持，服务器和前端都用JavaScript语言编写，相当于在服务器上也运行一个浏览器，它把渲染好的内容直接输出给客户端的浏览器。就好比小明从网上买计算机，先买主板，然后买CPU、显示器，准备自己组装，发现要花好几百元运费。后来小明想通了，直接把配件都选好，让店家帮忙组装，一次性寄送，多省事啊。“直出”就是这个原理。
## 1.18 互联网的黄金矿工：爬虫
* 首先给爬虫几个初始的URL 链接，爬虫把这些链接的网页抓取回来，经过对网页进行分析，得到两部分数据：一部分是网页的有效内容，可以用来建立搜索关键词的索引，这部分数据先存储起来；另一部分就是网页中的URL链接，这些链接可以作为下一轮爬虫抓取的目标网页，如此反复操作，也许整个互联网的网页都可以被抓取下来。
* 最后再分享一个关于爬虫的冷知识。如果网站运营者不愿意网站内容被爬虫抓取，那么可以在网站根目录下放一个robots.txt 文件，在其中具体描述该网站的哪些页面可以被抓取，哪些不能。
##  1.19 简单理解单页Web应用
#### 单页 Web 应用如何能在一个页面里把多个页面才能做的事情做完呢？这就需要以下两个必备技术：
* （1）AJAX。作者之前介绍过，有了它，前端的 JavaScript代码就可以拉取服务器上的数据了。
* （2）页面历史栈。前面介绍过，单页 Web 应用只有一个页面，也就是只有一个URL，那么用户想前进或者后退该怎么办呢？这就依赖单页Web页面自己的处理了。
#### 总结一下，单页Web应用越来越多，有以下两个原因：
* （1）多页面的网站结构，打开一个链接后，还要等很长时间整页才刷新，用户体验不好。应该只刷新变化了的部分，俗称局部刷新，像单页 Web 应用那样单独请求想要的数据自己刷新才是最合理的。
* （2）如果项目有Android、iOS、Web三种页面，那么最好由服务器提供数据API，然后三者共用。显然，单页Web应用比多页Web应用有优势。如果采用多页面Web应用，服务器还要根据业务逻辑生成 HTML，这对后台程序员来说是一件极其痛苦的事情。
## 1.20 锚点与网页内跳转的实现